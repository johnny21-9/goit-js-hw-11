{"version":3,"sources":["js/02-timer.js"],"names":["Refs","dateInput","document","querySelector","startButton","stopButton","timerInterfaceRefs","days","hours","minutes","seconds","dateChosen","dateChosenMs","counter","CurrentDate","Date","now","dateCheck","event","stopTimer","target","value","getTime","alertShow","buttonEnable","updateInterface","convertMs","startTimer","buttonDisable","setInterval","timeDiferance","zeroTime","clearInterval","textContent","addLeadingZero","String","padStart","ms","Math","floor","hour","minute","second","window","alert","button","disabled","addEventListener"],"mappings":";AAEA,MAAMA,EAAO,CACTC,UAAWC,SAASC,cAAc,kBAClCC,YAAaF,SAASC,cAAc,sBACpCE,WAAYH,SAASC,cAAc,sBAEjCG,EAAqB,CACvBC,KAAML,SAASC,cAAc,mBAC7BK,MAAON,SAASC,cAAc,oBAC9BM,QAASP,SAASC,cAAc,sBAChCO,QAASR,SAASC,cAAc,uBAIpC,IACIQ,EACAC,EACAC,EAHAC,EAAcC,KAAKC,MAavB,SAASC,EAAUC,GAIXN,GAHJO,IACAR,EAAaO,EAAME,OAAOC,OAC1BT,EAAe,IAAIG,KAAKJ,GAAYW,WACjBR,EACfS,QACG,CACHC,EAAaxB,EAAKI,aAGlBqB,EADuBC,EADDd,EAAeE,KAM7C,SAASa,IACLC,EAAc5B,EAAKI,aACnBoB,EAAaxB,EAAKK,YAClBQ,EAAUgB,YAAY,KAClBf,EAAcC,KAAKC,MACbc,MAAAA,EAAgBlB,EAAeE,EAErCW,EADuBC,EAAUI,IAE7BA,GAAiB,GACjBX,KAEL,KAGP,SAASA,IACCY,MAAAA,EAAWL,EAAU,GAC3BM,cAAcnB,GACdY,EAAgBM,GAChBH,EAAc5B,EAAKK,YAGvB,SAASoB,GAAgB,KAAElB,EAAF,MAAQC,EAAR,QAAeC,EAAf,QAAwBC,IAC7CJ,EAAmBC,KAAK0B,YAAcC,EAAe3B,GACrDD,EAAmBE,MAAMyB,YAAcC,EAAe1B,GACtDF,EAAmBG,QAAQwB,YAAcC,EAAezB,GACxDH,EAAmBI,QAAQuB,YAAcC,EAAexB,GAI5D,SAASwB,EAAeb,GACfc,OAAAA,OAAOd,GAAOe,SAAS,EAAG,KAGnC,SAASV,EAAUW,GAgBR,MAAA,CAAE9B,KARE+B,KAAKC,MAAMF,EAHZG,OAWKhC,MANH8B,KAAKC,MAAOF,EALdG,MADCC,MAYWhC,QAJR6B,KAAKC,MAAQF,EAPjBG,MADCC,KADEC,KAakBhC,QAFjB4B,KAAKC,MAASF,EATlBG,MADCC,KADEC,IADA,MAiBjB,SAASnB,IACToB,OAAOC,MAAM,sCAGb,SAAShB,EAAciB,GACnBA,EAAOC,UAAW,EAEtB,SAAStB,EAAaqB,GAClBA,EAAOC,UAAW,EAjFtBlB,EAAc5B,EAAKI,aACnBwB,EAAc5B,EAAKK,YAEnBL,EAAKC,UAAU8C,iBAAiB,QAAS9B,GACzCjB,EAAKI,YAAY2C,iBAAiB,QAASpB,GAC3C3B,EAAKK,WAAW0C,iBAAiB,QAAS5B","file":"02-timer.8175342a.js","sourceRoot":"../src","sourcesContent":["\n\nconst Refs = {\n    dateInput: document.querySelector('#date-selector'),\n    startButton: document.querySelector('button[data-start]'),\n    stopButton: document.querySelector('button[data-stop]'),\n}\nconst timerInterfaceRefs = {\n    days: document.querySelector('span[data-days]'),\n    hours: document.querySelector('span[data-hours]'),\n    minutes: document.querySelector('span[data-minutes]'),\n    seconds: document.querySelector('span[data-seconds]'),\n\n}\n\nlet CurrentDate = Date.now();\nlet dateChosen;\nlet dateChosenMs;\nlet counter;\n// console.log(CurrentDate);\n\nbuttonDisable(Refs.startButton);\nbuttonDisable(Refs.stopButton);\n\nRefs.dateInput.addEventListener('input', dateCheck);\nRefs.startButton.addEventListener('click', startTimer);\nRefs.stopButton.addEventListener('click', stopTimer);\n\nfunction dateCheck(event) {\n    stopTimer();\n    dateChosen = event.target.value;\n    dateChosenMs = new Date(dateChosen).getTime();\n    if (dateChosenMs < CurrentDate) {\n        alertShow()\n    } else {\n        buttonEnable(Refs.startButton);\n        const timeDiferance = dateChosenMs - CurrentDate;\n        const timeComponents = convertMs(timeDiferance);\n        updateInterface(timeComponents);\n    }\n}\n\nfunction startTimer() {\n    buttonDisable(Refs.startButton);\n    buttonEnable(Refs.stopButton);\n    counter = setInterval(() => {\n        CurrentDate = Date.now();\n        const timeDiferance = dateChosenMs - CurrentDate;\n        const timeComponents = convertMs(timeDiferance);\n        updateInterface(timeComponents);\n        if (timeDiferance <= 0) {\n            stopTimer();\n        }\n    }, 1000);\n}\n\nfunction stopTimer() {\n    const zeroTime = convertMs(0);\n    clearInterval(counter);\n    updateInterface(zeroTime);\n    buttonDisable(Refs.stopButton);\n}\n\nfunction updateInterface({ days, hours, minutes, seconds }) {\n    timerInterfaceRefs.days.textContent = addLeadingZero(days);\n    timerInterfaceRefs.hours.textContent = addLeadingZero(hours);\n    timerInterfaceRefs.minutes.textContent = addLeadingZero(minutes);\n    timerInterfaceRefs.seconds.textContent = addLeadingZero(seconds);\n}\n\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n}\n\nfunction alertShow () {\nwindow.alert(\"Please choose a date in the future\")\n};\n\nfunction buttonDisable(button) {\n    button.disabled = true;\n}\nfunction buttonEnable(button) {\n    button.disabled = false;\n}"]}